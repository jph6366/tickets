<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">

	<HEAD><TITLE>Tickets - Main Module</TITLE>
	<META HTTP-EQUIV="REFRESH" CONTENT="180">
	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
	<META HTTP-EQUIV="Expires" CONTENT="0">
	<META HTTP-EQUIV="Cache-Control" CONTENT="NO-CACHE">
	<META HTTP-EQUIV="Pragma" CONTENT="NO-CACHE">
	<META HTTP-EQUIV="Content-Script-Type"	CONTENT="text/javascript">
	<SCRIPT TYPE="text/javascript" src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAiLlX5dJnXCkZR5Yil2cQ5BTcqCCC0L2PGwpMHagbpUz5UypCABQASgZU9oiwa2VI2x6B95iXYOM7rg"></SCRIPT>
	<SCRIPT>
	if(document.all && !document.getElementById) {		// accomodate IE
		document.getElementById = function(id) {
			return document.all[id];
			}
		}
//	parent.frames["upper"].document.getElementById("whom").innerHTML  = "ashore";
//	parent.frames["upper"].document.getElementById("level").innerHTML = "Admin";
//	parent.frames["upper"].document.getElementById("script").innerHTML  = "main";
	</SCRIPT>
<script src="graticule.js" type="text/javascript"></script>

<LINK REL=StyleSheet HREF="default.css" TYPE="text/css">
</HEAD>

<BODY  onunload="GUnload()">
<TABLE BORDER=4  STYLE='WIDTH: 870PX'>
	<TR CLASS='even'><TD COLSPAN='99' ALIGN='center'><FONT CLASS='header'>Current  Run Tickets</FONT></TD></TR>
	<TR CLASS='odd'><TD COLSPAN='99' ALIGN='center'>&nbsp;</TD></TR>
	<TR>
		<TD CLASS='td_label'><DIV ID='map' STYLE='WIDTH: 450PX; HEIGHT: 450PX'></DIV>
		<BR /><CENTER><FONT CLASS='header'>Annapolis Area (AA County, MD)</FONT><BR /><BR />
		Units: <A HREF="#" onClick = "hideGroup(0)">	<IMG SRC = './markers/sm_yellow.png' BORDER=0></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		Incident Priority:&nbsp;&nbsp;&nbsp;&nbsp;
		Typical: <A HREF="#" onClick = "hideGroup(1)">	<IMG SRC = './markers/sm_blue.png' BORDER=0></A>&nbsp;&nbsp;&nbsp;&nbsp;
		High: <A HREF="#" onClick = "hideGroup(2)">		<IMG SRC = './markers/sm_green.png' BORDER=0></A>&nbsp;&nbsp;&nbsp;&nbsp;
		Highest: <A HREF="#" onClick = "hideGroup(3)">	<IMG SRC = './markers/sm_red.png' BORDER=0></A>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN ID="allIcons" STYLE="visibility: hidden">Show all: <A HREF="#" onClick = "showAll()"><IMG SRC = './markers/sm_white.png' BORDER=0></A></CENTER><BR /></TD>
		<TD></TD>
	<TD VALIGN='TOP'  STYLE='WIDTH: 410px'>&nbsp;<DIV ID='side_bar' STYLE='WIDTH: 400px'></DIV></TD>
	</TR>
	<TR><TD COLSPAN='99'> </TD></TR>
	<TR><TD CLASS='td_label' COLSPAN=3 ALIGN='center'>
		&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="mailto:shoreas@Gmail.com?subject=Question/Comment on Tickets Dispatch System"><u>Contact us</u>&nbsp;&nbsp;&nbsp;&nbsp;<IMG SRC="mail.png" BORDER="0" STYLE="vertical-align: text-bottom"></A>
		</TD></TR></TABLE>
	<FORM NAME='view_form' METHOD='get' ACTION='config.php'>
	<INPUT TYPE='hidden' NAME='func' VALUE='responder'>
	<INPUT TYPE='hidden' NAME='view' VALUE='true'>
	<INPUT TYPE='hidden' NAME='id' VALUE=''>
	</FORM>

<SCRIPT>

if (GBrowserIsCompatible()) {

//	document.getElementById("map").style.backgroundImage = "url(./markers/loading.jpg)";
	document.getElementById("map").style.backgroundImage = "url('http://maps.google.com/staticmap?center=38.856820,-76.582947&zoom=9&size=450x450&key=ABQIAAAAiLlX5dJnXCkZR5Yil2cQ5BTcqCCC0L2PGwpMHagbpUz5UypCABQASgZU9oiwa2VI2x6B95iXYOM7rg ')";


	var colors = new Array ('odd', 'even');

	function hideGroup(color) {
		for (var i = 0; i < gmarkers.length; i++) {
			if (gmarkers[i]) {
				if (gmarkers[i].id == color) {
					gmarkers[i].show();
					}
				else {
					gmarkers[i].hide();
					}
				}		// end if (gmarkers[i])
			} 	// end for ()
		elem = document.getElementById("allIcons");
		elem.style.visibility = "visible";
		}			// end function

	function showAll() {
		for (var i = 0; i < gmarkers.length; i++) {
			if (gmarkers[i]) {
				gmarkers[i].show();
				}
			} 	// end for ()
		elem = document.getElementById("allIcons");
		elem.style.visibility = "hidden";
		}			// end function

	function do_sidebar_nm (sidebar, line_no, rcd_id) {							// no map - view responder // view_Form
		side_bar_html += "<TR CLASS='" + colors[(line_no)%2] +"' onClick = myclick_nm(" + rcd_id + ");>";
		side_bar_html += "<TD CLASS='td_label'>" + (line_no) + ". "+ sidebar +"</TD></TR>\n";
		}

	function myclick_nm(v_id) {				// Responds to sidebar click - view responder data
//		alert (151);
//		alert (v_id);
		document.view_form.id.value=v_id;
		document.view_form.submit();
		}

	function myclick(id) {					// Responds to sidebar click, then triggers listener above -  note [i]
//		alert (157);
//		alert (id);
		GEvent.trigger(gmarkers[id], "click");
		}

	function do_sidebar (instr, id) {								// constructs sidebar row
		side_bar_html += "<TR CLASS='" + colors[id%2] +"' onClick = myclick(" + id + ");><TD CLASS='td_label'>" + (id) + ". "+ instr +"</TD></TR>\n";
		}		// end function do_sidebar ()

	function createMarker(point, tabs, color, id) {					// Creates marker and sets up click event infowindow
		points = true;
		var icon = new GIcon(baseIcon);
		icon.image = icons[color] + ((id % 100)) + ".png";			// e.g.,marker9.png, 100 icons limit
//		alert(color + " " + icon.image);
		var marker = new GMarker(point, icon);
		marker.id = color;				// for hide/unhide

		GEvent.addListener(marker, "click", function() {			// here for both side bar and icon click
//			alert(178);
			map.closeInfoWindow();
			which = id;
			gmarkers[which].hide();
			marker.openInfoWindowTabsHtml(infoTabs[id]);
//			alert(183);
			var dMapDiv = document.getElementById("detailmap");
			var detailmap = new GMap2(dMapDiv);
			detailmap.addControl(new GSmallMapControl());
			detailmap.setCenter(point, 12);  						// larger # = closer
			detailmap.addOverlay(marker);
			});

		gmarkers[id] = marker;							// marker to array for side_bar click function
		infoTabs[id] = tabs;							// tabs to array

		bounds.extend(point);										// extend the bounding box

		return marker;
		}				// end function create Marker()
	function doGrid() {
		map.closeInfoWindow();
		map.addOverlay(new LatLonGraticule());
		}

	var icons=[];						// note globals
	icons[0] = 											   "./markers/YellowIcons/marker";	// tickets icons - e.g.,marker9.png
	icons[0+1] = "./markers/BlueIcons/marker";
	icons[1+1] = "./markers/GreenIcons/marker";
	icons[2+1] =   "./markers/RedIcons/marker";
	icons[2+1] =   "./markers/WhiteIcons/marker";

	var map;
	var center;
	var zoom;
	var points = false;

//	var Eastern_Shore = new GGeoXml("http://www.marylandlandtax.org/LVTprojects/state_md/map_testing/Eastern_Shore.kml");
	var kml_1 = new GGeoXml("http://www.saefern.org:80/tickets/kml_files/Eastern_Shore.kml");
	var kml_2 = new GGeoXml("http://www.saefern.org:80/tickets/kml_files/Western_Md.kml");
	var kml_3 = new GGeoXml("http://www.saefern.org:80/tickets/kml_files/North_Central.kml");

	var side_bar_html = "<TABLE border=0 CLASS='sidebar'>";
	side_bar_html += "<tr class='even'><td colspan=99 align='center'>Click for information</td></tr>";
	side_bar_html += "<tr class='odd'><td></td><td align='center'><B>Incident</B></td><td align='center'><B>Type</B></td><td>P</td><td>A</td><td align='center'>As of</td></tr>";
	var gmarkers = [];
	var infoTabs = [];
	var which;
	var i = 0;			// sidebar/icon index

	map = new GMap2(document.getElementById("map"));		// create the map
	map.addControl(new GLargeMapControl());
	map.addControl(new GMapTypeControl());
	map.setCenter(new GLatLng(38.856820, -76.582947), 9);

	var bounds = new GLatLngBounds();						// create  bounding box
//	map.addControl(new GOverviewMapControl());
	map.addMapType(G_PHYSICAL_MAP);
	map.enableScrollWheelZoom();

	var baseIcon = new GIcon();
	baseIcon.shadow = "./markers/sm_shadow.png";		// ./markers/sm_shadow.png

	baseIcon.iconSize = new GSize(20, 34);
	baseIcon.shadowSize = new GSize(37, 34);
	baseIcon.iconAnchor = new GPoint(9, 34);
	baseIcon.infoWindowAnchor = new GPoint(9, 2);
	baseIcon.infoShadowAnchor = new GPoint(18, 25);
	GEvent.addListener(map, "infowindowclose", function() {		// re-center after  move/zoom
//		alert (center);
		map.setCenter(center,zoom);
		map.addOverlay(gmarkers[which])
		});

		var myinfoTabs = [
			new GInfoWindowTab("West St....", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'><B>West St. collision</B></TD></TR><TR CLASS='odd'><TD>As of:</TD><TD>2008-Feb-20 20:24</TD></TR><TR CLASS='even'><TD>Reported by:</TD><TD>A. Bystander</TD></TR><TR CLASS='odd'><TD>Phone:</TD><TD>(410) 849-1234</TD></TR><TR CLASS='even'><TD>Addr:</TD><TD>Route 2 mall<BR/>Edgewater MD</TD></TR><TR CLASS='odd'><TD COLSPAN=2 ALIGN='center'>&nbsp;&nbsp;<A HREF='main.php?id=1'><U>Show details</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='patient.php?ticket_id=1'><U>Add Patient</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='action.php?ticket_id=1'><U>Add Action</U></A>&nbsp;&nbsp;</TD></TR><TABLE>"),
			new GInfoWindowTab("More ...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD>Description:</TD><TD>collision - minor damage</TD></TR><TR CLASS='odd'><TD>Comments:</TD><TD>Departed scene at 13:05</TD></TR><TR><TD>&nbsp;</TD></TR><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'>&nbsp;&nbsp;<A HREF='main.php?id=1'><U>Show details</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='patient.php?ticket_id=1'><U>Add Patient</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='action.php?ticket_id=1'><U>Add Action</U></A>&nbsp;&nbsp;</TD></TR><TABLE>"),
			new GInfoWindowTab("Zoom", "<div id='detailmap' class='detailmap'></div>")
			];

		var point = new GLatLng(38.886757, -76.555481);	// for each ticket
		bounds.extend(point);																// point into BB
		i++;																				// step the index

		var marker = createMarker(point, myinfoTabs,2, i);	// (point,tabs, color, id)
		do_sidebar ("<TD CLASS='severity_medium'>West St. collision </TD><TD CLASS='severity_medium'>traffic </TD><TD CLASS='td_data'> 0 </TD><TD CLASS='td_data'> 1 </TD><TD CLASS='td_data'> Feb-20 20:24</TD>", i)
		map.addOverlay(marker);
		var myinfoTabs = [
			new GInfoWindowTab("Resident...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'><B>Residential Fire</B></TD></TR><TR CLASS='odd'><TD>As of:</TD><TD>2008-Feb-08 12:43</TD></TR><TR CLASS='even'><TD>Reported by:</TD><TD>Irving R. Bush</TD></TR><TR CLASS='odd'><TD>Phone:</TD><TD>(410) 849-8799</TD></TR><TR CLASS='even'><TD>Addr:</TD><TD>1111 Woodlore Rd<BR/>Annapolis MD</TD></TR><TR CLASS='odd'><TD COLSPAN=2 ALIGN='center'>&nbsp;&nbsp;<A HREF='main.php?id=3'><U>Show details</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='patient.php?ticket_id=3'><U>Add Patient</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='action.php?ticket_id=3'><U>Add Action</U></A>&nbsp;&nbsp;</TD></TR><TABLE>"),
			new GInfoWindowTab("More ...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD>Description:</TD><TD>fire - residential</TD></TR><TR CLASS='odd'><TD>Comments:</TD><TD></TD></TR><TR><TD>&nbsp;</TD></TR><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'>&nbsp;&nbsp;<A HREF='main.php?id=3'><U>Show details</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='patient.php?ticket_id=3'><U>Add Patient</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='action.php?ticket_id=3'><U>Add Action</U></A>&nbsp;&nbsp;</TD></TR><TABLE>"),
			new GInfoWindowTab("Zoom", "<div id='detailmap' class='detailmap'></div>")
			];

		var point = new GLatLng(39.001021, -76.55132);	// for each ticket
		bounds.extend(point);																// point into BB
		i++;																				// step the index

		var marker = createMarker(point, myinfoTabs,1, i);	// (point,tabs, color, id)
		do_sidebar ("<TD CLASS=''>Residential Fire </TD><TD CLASS=''>fire </TD><TD CLASS='td_data'> 0 </TD><TD CLASS='td_data'> 0 </TD><TD CLASS='td_data'> Feb-08 12:43</TD>", i)
		map.addOverlay(marker);
		var myinfoTabs = [
			new GInfoWindowTab("traffic", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'><B>traffic</B></TD></TR><TR CLASS='odd'><TD>As of:</TD><TD>2008-Feb-10 14:35</TD></TR><TR CLASS='even'><TD>Reported by:</TD><TD>matt</TD></TR><TR CLASS='odd'><TD>Phone:</TD><TD>(123) 555-5555</TD></TR><TR CLASS='even'><TD>Addr:</TD><TD>west st<BR/>Annapolis Area md</TD></TR><TR CLASS='odd'><TD COLSPAN=2 ALIGN='center'>&nbsp;&nbsp;<A HREF='main.php?id=4'><U>Show details</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='patient.php?ticket_id=4'><U>Add Patient</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='action.php?ticket_id=4'><U>Add Action</U></A>&nbsp;&nbsp;</TD></TR><TABLE>"),
			new GInfoWindowTab("More ...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD>Description:</TD><TD>collision - minor damage</TD></TR><TR CLASS='odd'><TD>Comments:</TD><TD></TD></TR><TR><TD>&nbsp;</TD></TR><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'>&nbsp;&nbsp;<A HREF='main.php?id=4'><U>Show details</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='patient.php?ticket_id=4'><U>Add Patient</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='action.php?ticket_id=4'><U>Add Action</U></A>&nbsp;&nbsp;</TD></TR><TABLE>"),
			new GInfoWindowTab("Zoom", "<div id='detailmap' class='detailmap'></div>")
			];

		var point = new GLatLng(38.989303, -76.558228);	// for each ticket
		bounds.extend(point);																// point into BB
		i++;																				// step the index

		var marker = createMarker(point, myinfoTabs,3, i);	// (point,tabs, color, id)
		do_sidebar ("<TD CLASS='severity_high'>traffic </TD><TD CLASS='severity_high'>traffic </TD><TD CLASS='td_data'> 0 </TD><TD CLASS='td_data'> 0 </TD><TD CLASS='td_data'> Feb-10 14:35</TD>", i)
		map.addOverlay(marker);
		var myinfoTabs = [
			new GInfoWindowTab("I - Relo...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'><B>I - Relocated</B></TD></TR><TR CLASS='odd'><TD>As of:</TD><TD>2008-Feb-20 13:54</TD></TR><TR CLASS='even'><TD>Reported by:</TD><TD>B Gast</TD></TR><TR CLASS='odd'><TD>Phone:</TD><TD>(985) 555-555</TD></TR><TR CLASS='even'><TD>Addr:</TD><TD>301 City Park Ave.<BR/>Davidsonville MD</TD></TR><TR CLASS='odd'><TD COLSPAN=2 ALIGN='center'>&nbsp;&nbsp;<A HREF='main.php?id=6'><U>Show details</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='patient.php?ticket_id=6'><U>Add Patient</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='action.php?ticket_id=6'><U>Add Action</U></A>&nbsp;&nbsp;</TD></TR><TABLE>"),
			new GInfoWindowTab("More ...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD>Description:</TD><TD>Requires treatment</TD></TR><TR CLASS='odd'><TD>Comments:</TD><TD>test</TD></TR><TR><TD>&nbsp;</TD></TR><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'>&nbsp;&nbsp;<A HREF='main.php?id=6'><U>Show details</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='patient.php?ticket_id=6'><U>Add Patient</U></A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='action.php?ticket_id=6'><U>Add Action</U></A>&nbsp;&nbsp;</TD></TR><TABLE>"),
			new GInfoWindowTab("Zoom", "<div id='detailmap' class='detailmap'></div>")
			];

		var point = new GLatLng(38.91214, -76.659851);	// for each ticket
		bounds.extend(point);																// point into BB
		i++;																				// step the index

		var marker = createMarker(point, myinfoTabs,3, i);	// (point,tabs, color, id)
		do_sidebar ("<TD CLASS='severity_high'>I - Relocated </TD><TD CLASS='severity_high'>domestic violence </TD><TD CLASS='td_data'> 0 </TD><TD CLASS='td_data'> 0 </TD><TD CLASS='td_data'> Feb-20 13:54</TD>", i)
		map.addOverlay(marker);
		side_bar_html += (i>0)? "": "<TR CLASS='odd'><TD COLSPAN='99' ALIGN='center'><BR /><B>No  tickets!</B><BR /><BR /></TD></TR>";
// ==============================================================================================================
		points = false;
		i++


		side_bar_html += "<TR CLASS='even'><TD></TD><TD ALIGN='center'><B>Unit</B></TD><TD ALIGN='center' COLSPAN=2><B>Status</B></TD><TD>M</TD><TD></TD></TR>"
		var point = new GLatLng(38.971721, -76.522522);	// mobile position


		var do_map = true;		// default


				do_sidebar ("<TD>Annapolis Fire D...</TD><TD COLSPAN=2>Available</TD><TD CLASS='td_data'> </TD><TD CLASS='td_data'> Feb-04 12:48</TD>", i);
				var myinfoTabs = [
					new GInfoWindowTab("Annapo...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'><B>Annapolis Fire Department</B> - Fire</TD></TR><TR CLASS='odd'><TD>Description:</TD><TD>1790 Forest Dr, Annapolis, M...</TD></TR><TR CLASS='even'><TD>Status:</TD><TD>Available </TD></TR><TR CLASS='odd'><TD>Contact:</TD><TD>Chief Jones Via: (410) 263-7975</TD></TR><TR CLASS='even'><TD>As of:</TD><TD>2008-Feb-04 12:48</TD></TR><TR CLASS='odd'><TD COLSPAN=2 ALIGN='center'>Details:&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&edit=true&id=1'><U>Edit</U></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&view=true&id=1'><U>View</U></A></TD></TR><TABLE>"),
					new GInfoWindowTab("Zoom", "<div id='detailmap' class='detailmap'></div>")
					];
			if (do_map) {
//				alert(2);
//				var marker = createMarker(point, myinfoTabs,2, i);	// (point,tabs, color, id)
				var marker = createMarker(point, myinfoTabs,0, i);	// (point,tabs, color, id)	// yellow for responders
				map.addOverlay(marker);
				}
			i++;				// zero-based
		var point = new GLatLng(38.979195, -76.732721);	// mobile position


		var do_map = true;		// default


				do_sidebar ("<TD>Bowie Volunteer ...</TD><TD COLSPAN=2>Available</TD><TD CLASS='td_data'> </TD><TD CLASS='td_data'> Feb-22 06:21</TD>", i);
				var myinfoTabs = [
					new GInfoWindowTab("Bowie ...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'><B>Bowie Volunteer Fire Department</B> - Mutual</TD></TR><TR CLASS='odd'><TD>Description:</TD><TD>3262 Superior Ln Bowie, MD 20715</TD></TR><TR CLASS='even'><TD>Status:</TD><TD>Available </TD></TR><TR CLASS='odd'><TD>Contact:</TD><TD>Chief Ramos Via: (301) 809-0122</TD></TR><TR CLASS='even'><TD>As of:</TD><TD>2008-Feb-22 06:21</TD></TR><TR CLASS='odd'><TD COLSPAN=2 ALIGN='center'>Details:&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&edit=true&id=5'><U>Edit</U></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&view=true&id=5'><U>View</U></A></TD></TR><TABLE>"),
					new GInfoWindowTab("Zoom", "<div id='detailmap' class='detailmap'></div>")
					];
			if (do_map) {
//				alert(4);
//				var marker = createMarker(point, myinfoTabs,4, i);	// (point,tabs, color, id)
				var marker = createMarker(point, myinfoTabs,0, i);	// (point,tabs, color, id)	// yellow for responders
				map.addOverlay(marker);
				}
			i++;				// zero-based
		var point = new GLatLng(38.979328, -76.506557);	// mobile position


		var do_map = true;		// default


				do_sidebar ("<TD>Independent Volu...</TD><TD COLSPAN=2>Available</TD><TD CLASS='td_data'> </TD><TD CLASS='td_data'> Feb-04 13:00</TD>", i);
				var myinfoTabs = [
					new GInfoWindowTab("Indepe...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'><B>Independent Volunteer Fire Co</B> - Fire</TD></TR><TR CLASS='odd'><TD>Description:</TD><TD>620 Taylor Ave Annapolis, MD...</TD></TR><TR CLASS='even'><TD>Status:</TD><TD>Available </TD></TR><TR CLASS='odd'><TD>Contact:</TD><TD>Chief Henry Via: (410) 295-5226</TD></TR><TR CLASS='even'><TD>As of:</TD><TD>2008-Feb-04 13:00</TD></TR><TR CLASS='odd'><TD COLSPAN=2 ALIGN='center'>Details:&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&edit=true&id=4'><U>Edit</U></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&view=true&id=4'><U>View</U></A></TD></TR><TABLE>"),
					new GInfoWindowTab("Zoom", "<div id='detailmap' class='detailmap'></div>")
					];
			if (do_map) {
//				alert(2);
//				var marker = createMarker(point, myinfoTabs,2, i);	// (point,tabs, color, id)
				var marker = createMarker(point, myinfoTabs,0, i);	// (point,tabs, color, id)	// yellow for responders
				map.addOverlay(marker);
				}
			i++;				// zero-based
		var point = new GLatLng(38.99007, -76.528487);	// mobile position


		var do_map = true;		// default


				do_sidebar ("<TD>West Annapolis F...</TD><TD COLSPAN=2>Available</TD><TD CLASS='td_data'> </TD><TD CLASS='td_data'> Feb-04 12:51</TD>", i);
				var myinfoTabs = [
					new GInfoWindowTab("West A...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'><B>West Annapolis Fire Department - more</B> - Fire</TD></TR><TR CLASS='odd'><TD>Description:</TD><TD>121 Jennifer Rd, Annapolis, ...</TD></TR><TR CLASS='even'><TD>Status:</TD><TD>Available </TD></TR><TR CLASS='odd'><TD>Contact:</TD><TD>Chief Smith Via: (410) 266-8066</TD></TR><TR CLASS='even'><TD>As of:</TD><TD>2008-Feb-04 12:51</TD></TR><TR CLASS='odd'><TD COLSPAN=2 ALIGN='center'>Details:&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&edit=true&id=2'><U>Edit</U></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&view=true&id=2'><U>View</U></A></TD></TR><TABLE>"),
					new GInfoWindowTab("Zoom", "<div id='detailmap' class='detailmap'></div>")
					];
			if (do_map) {
//				alert(2);
//				var marker = createMarker(point, myinfoTabs,2, i);	// (point,tabs, color, id)
				var marker = createMarker(point, myinfoTabs,0, i);	// (point,tabs, color, id)	// yellow for responders
				map.addOverlay(marker);
				}
			i++;				// zero-based
		var point = new GLatLng(38.934777, -76.548185);	// mobile position


		var do_map = true;		// default


				do_sidebar ("<TD>Woodland Beach V...</TD><TD COLSPAN=2>Available</TD><TD CLASS='td_data'> </TD><TD CLASS='td_data'> Feb-22 06:21</TD>", i);
				var myinfoTabs = [
					new GInfoWindowTab("Woodla...", "<TABLE CLASS='infowin' width='320'><TR CLASS='even'><TD COLSPAN=2 ALIGN='center'><B>Woodland Beach Volunteer Fire</B> - Fire</TD></TR><TR CLASS='odd'><TD>Description:</TD><TD>529 Londontown Rd, Edgewater, MD</TD></TR><TR CLASS='even'><TD>Status:</TD><TD>Available </TD></TR><TR CLASS='odd'><TD>Contact:</TD><TD> Via: (410) 956-3100</TD></TR><TR CLASS='even'><TD>As of:</TD><TD>2008-Feb-22 06:21</TD></TR><TR CLASS='odd'><TD COLSPAN=2 ALIGN='center'>Details:&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&edit=true&id=3'><U>Edit</U></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF='config.php?func=responder&view=true&id=3'><U>View</U></A></TD></TR><TABLE>"),
					new GInfoWindowTab("Zoom", "<div id='detailmap' class='detailmap'></div>")
					];
			if (do_map) {
//				alert(2);
//				var marker = createMarker(point, myinfoTabs,2, i);	// (point,tabs, color, id)
				var marker = createMarker(point, myinfoTabs,0, i);	// (point,tabs, color, id)	// yellow for responders
				map.addOverlay(marker);
				}
			i++;				// zero-based
		map.addOverlay(kml_1);
		map.addOverlay(kml_2);
		map.addOverlay(kml_3);
//    map.addOverlay(North_Central);

	if (!points) {		// any?
		map.setCenter(new GLatLng(38.856820, -76.582947), 9);
		}
	else {
		center = bounds.getCenter();
		zoom = map.getBoundsZoomLevel(bounds);
		map.setCenter(center,zoom);
		}

	side_bar_html+= "<TR CLASS='" + colors[i%2] +"'><TD COLSPAN=99 ALIGN='center'>&nbsp;&nbsp;<B>M</B>obility:&nbsp;&nbsp; stopped: <FONT COLOR='red'>&bull;</FONT>&nbsp;&nbsp;&nbsp;moving: <FONT COLOR='green'>&bull;</FONT>&nbsp;&nbsp;&nbsp;fast: <FONT COLOR='white'>&bull;</FONT>&nbsp;&nbsp;&nbsp;silent: <FONT COLOR='black'>&bull;</FONT>&nbsp;&nbsp;</TD></TR>";

	side_bar_html +="</TABLE>\n";
	document.getElementById("side_bar").innerHTML = side_bar_html;	// put the assembled side_bar_html contents into the side_bar div

// =============================================================================================================
	}		// end if (GBrowserIsCompatible())
else {
	alert("Sorry, browser compatibility problem. Contact your tech support group.");
	}
</SCRIPT>

</BODY></HTML>
